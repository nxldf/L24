!function(){function a(a){var c={r:0,g:0,b:0},e=1,g=!1,h=!1;return"string"==typeof a&&(a=G(a)),"object"==typeof a&&(a.hasOwnProperty("r")&&a.hasOwnProperty("g")&&a.hasOwnProperty("b")?(c=b(a.r,a.g,a.b),g=!0,h="%"===String(a.r).substr(-1)?"prgb":"rgb"):a.hasOwnProperty("h")&&a.hasOwnProperty("s")&&a.hasOwnProperty("v")?(a.s=D(a.s),a.v=D(a.v),c=f(a.h,a.s,a.v),g=!0,h="hsv"):a.hasOwnProperty("h")&&a.hasOwnProperty("s")&&a.hasOwnProperty("l")&&(a.s=D(a.s),a.l=D(a.l),c=d(a.h,a.s,a.l),g=!0,h="hsl"),a.hasOwnProperty("a")&&(e=a.a)),e=w(e),{ok:g,format:a.format||h,r:M(255,N(c.r,0)),g:M(255,N(c.g,0)),b:M(255,N(c.b,0)),a:e}}function b(a,b,c){return{r:255*x(a,255),g:255*x(b,255),b:255*x(c,255)}}function c(a,b,c){a=x(a,255),b=x(b,255),c=x(c,255);var d,e,f=N(a,b,c),g=M(a,b,c),h=(f+g)/2;if(f==g)d=e=0;else{var i=f-g;switch(e=h>.5?i/(2-f-g):i/(f+g),f){case a:d=(b-c)/i+(c>b?6:0);break;case b:d=(c-a)/i+2;break;case c:d=(a-b)/i+4}d/=6}return{h:d,s:e,l:h}}function d(a,b,c){function d(a,b,c){return 0>c&&(c+=1),c>1&&(c-=1),1/6>c?a+6*(b-a)*c:.5>c?b:2/3>c?a+(b-a)*(2/3-c)*6:a}var e,f,g;if(a=x(a,360),b=x(b,100),c=x(c,100),0===b)e=f=g=c;else{var h=.5>c?c*(1+b):c+b-c*b,i=2*c-h;e=d(i,h,a+1/3),f=d(i,h,a),g=d(i,h,a-1/3)}return{r:255*e,g:255*f,b:255*g}}function e(a,b,c){a=x(a,255),b=x(b,255),c=x(c,255);var d,e,f=N(a,b,c),g=M(a,b,c),h=f,i=f-g;if(e=0===f?0:i/f,f==g)d=0;else{switch(f){case a:d=(b-c)/i+(c>b?6:0);break;case b:d=(c-a)/i+2;break;case c:d=(a-b)/i+4}d/=6}return{h:d,s:e,v:h}}function f(a,b,c){a=6*x(a,360),b=x(b,100),c=x(c,100);var d=K.floor(a),e=a-d,f=c*(1-b),g=c*(1-e*b),h=c*(1-(1-e)*b),i=d%6,j=[c,g,f,f,h,c][i],k=[h,c,c,g,f,f][i],l=[f,f,h,c,c,g][i];return{r:255*j,g:255*k,b:255*l}}function g(a,b,c,d){var e=[C(L(a).toString(16)),C(L(b).toString(16)),C(L(c).toString(16))];return d&&e[0].charAt(0)==e[0].charAt(1)&&e[1].charAt(0)==e[1].charAt(1)&&e[2].charAt(0)==e[2].charAt(1)?e[0].charAt(0)+e[1].charAt(0)+e[2].charAt(0):e.join("")}function h(a,b,c,d){var e=[C(E(d)),C(L(a).toString(16)),C(L(b).toString(16)),C(L(c).toString(16))];return e.join("")}function i(a,b){b=0===b?0:b||10;var c=P(a).toHsl();return c.s-=b/100,c.s=y(c.s),P(c)}function j(a,b){b=0===b?0:b||10;var c=P(a).toHsl();return c.s+=b/100,c.s=y(c.s),P(c)}function k(a){return P(a).desaturate(100)}function l(a,b){b=0===b?0:b||10;var c=P(a).toHsl();return c.l+=b/100,c.l=y(c.l),P(c)}function m(a,b){b=0===b?0:b||10;var c=P(a).toRgb();return c.r=N(0,M(255,c.r-L(255*-(b/100)))),c.g=N(0,M(255,c.g-L(255*-(b/100)))),c.b=N(0,M(255,c.b-L(255*-(b/100)))),P(c)}function n(a,b){b=0===b?0:b||10;var c=P(a).toHsl();return c.l-=b/100,c.l=y(c.l),P(c)}function o(a,b){var c=P(a).toHsl(),d=(L(c.h)+b)%360;return c.h=0>d?360+d:d,P(c)}function p(a){var b=P(a).toHsl();return b.h=(b.h+180)%360,P(b)}function q(a){var b=P(a).toHsl(),c=b.h;return[P(a),P({h:(c+120)%360,s:b.s,l:b.l}),P({h:(c+240)%360,s:b.s,l:b.l})]}function r(a){var b=P(a).toHsl(),c=b.h;return[P(a),P({h:(c+90)%360,s:b.s,l:b.l}),P({h:(c+180)%360,s:b.s,l:b.l}),P({h:(c+270)%360,s:b.s,l:b.l})]}function s(a){var b=P(a).toHsl(),c=b.h;return[P(a),P({h:(c+72)%360,s:b.s,l:b.l}),P({h:(c+216)%360,s:b.s,l:b.l})]}function t(a,b,c){b=b||6,c=c||30;var d=P(a).toHsl(),e=360/c,f=[P(a)];for(d.h=(d.h-(e*b>>1)+720)%360;--b;)d.h=(d.h+e)%360,f.push(P(d));return f}function u(a,b){b=b||6;for(var c=P(a).toHsv(),d=c.h,e=c.s,f=c.v,g=[],h=1/b;b--;)g.push(P({h:d,s:e,v:f})),f=(f+h)%1;return g}function v(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[a[c]]=c);return b}function w(a){return a=parseFloat(a),(isNaN(a)||0>a||a>1)&&(a=1),a}function x(a,b){A(a)&&(a="100%");var c=B(a);return a=M(b,N(0,parseFloat(a))),c&&(a=parseInt(a*b,10)/100),K.abs(a-b)<1e-6?1:a%b/parseFloat(b)}function y(a){return M(1,N(0,a))}function z(a){return parseInt(a,16)}function A(a){return"string"==typeof a&&-1!=a.indexOf(".")&&1===parseFloat(a)}function B(a){return"string"==typeof a&&-1!=a.indexOf("%")}function C(a){return 1==a.length?"0"+a:""+a}function D(a){return 1>=a&&(a=100*a+"%"),a}function E(a){return Math.round(255*parseFloat(a)).toString(16)}function F(a){return z(a)/255}function G(a){a=a.replace(H,"").replace(I,"").toLowerCase();var b=!1;if(Q[a])a=Q[a],b=!0;else if("transparent"==a)return{r:0,g:0,b:0,a:0,format:"name"};var c;return(c=S.rgb.exec(a))?{r:c[1],g:c[2],b:c[3]}:(c=S.rgba.exec(a))?{r:c[1],g:c[2],b:c[3],a:c[4]}:(c=S.hsl.exec(a))?{h:c[1],s:c[2],l:c[3]}:(c=S.hsla.exec(a))?{h:c[1],s:c[2],l:c[3],a:c[4]}:(c=S.hsv.exec(a))?{h:c[1],s:c[2],v:c[3]}:(c=S.hex8.exec(a))?{a:F(c[1]),r:z(c[2]),g:z(c[3]),b:z(c[4]),format:b?"name":"hex8"}:(c=S.hex6.exec(a))?{r:z(c[1]),g:z(c[2]),b:z(c[3]),format:b?"name":"hex"}:(c=S.hex3.exec(a))?{r:z(c[1]+""+c[1]),g:z(c[2]+""+c[2]),b:z(c[3]+""+c[3]),format:b?"name":"hex"}:!1}var H=/^[\s,#]+/,I=/\s+$/,J=0,K=Math,L=K.round,M=K.min,N=K.max,O=K.random,P=function T(b,c){if(b=b?b:"",c=c||{},b instanceof T)return b;if(!(this instanceof T))return new T(b,c);var d=a(b);this._r=d.r,this._g=d.g,this._b=d.b,this._a=d.a,this._roundA=L(100*this._a)/100,this._format=c.format||d.format,this._gradientType=c.gradientType,this._r<1&&(this._r=L(this._r)),this._g<1&&(this._g=L(this._g)),this._b<1&&(this._b=L(this._b)),this._ok=d.ok,this._tc_id=J++};P.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var a=this.toRgb();return(299*a.r+587*a.g+114*a.b)/1e3},setAlpha:function(a){return this._a=w(a),this._roundA=L(100*this._a)/100,this},toHsv:function(){var a=e(this._r,this._g,this._b);return{h:360*a.h,s:a.s,v:a.v,a:this._a}},toHsvString:function(){var a=e(this._r,this._g,this._b),b=L(360*a.h),c=L(100*a.s),d=L(100*a.v);return 1==this._a?"hsv("+b+", "+c+"%, "+d+"%)":"hsva("+b+", "+c+"%, "+d+"%, "+this._roundA+")"},toHsl:function(){var a=c(this._r,this._g,this._b);return{h:360*a.h,s:a.s,l:a.l,a:this._a}},toHslString:function(){var a=c(this._r,this._g,this._b),b=L(360*a.h),d=L(100*a.s),e=L(100*a.l);return 1==this._a?"hsl("+b+", "+d+"%, "+e+"%)":"hsla("+b+", "+d+"%, "+e+"%, "+this._roundA+")"},toHex:function(a){return g(this._r,this._g,this._b,a)},toHexString:function(a){return"#"+this.toHex(a)},toHex8:function(){return h(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:L(this._r),g:L(this._g),b:L(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+L(this._r)+", "+L(this._g)+", "+L(this._b)+")":"rgba("+L(this._r)+", "+L(this._g)+", "+L(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:L(100*x(this._r,255))+"%",g:L(100*x(this._g,255))+"%",b:L(100*x(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+L(100*x(this._r,255))+"%, "+L(100*x(this._g,255))+"%, "+L(100*x(this._b,255))+"%)":"rgba("+L(100*x(this._r,255))+"%, "+L(100*x(this._g,255))+"%, "+L(100*x(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":this._a<1?!1:R[g(this._r,this._g,this._b,!0)]||!1},toFilter:function(a){var b="#"+h(this._r,this._g,this._b,this._a),c=b,d=this._gradientType?"GradientType = 1, ":"";if(a){var e=P(a);c=e.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+d+"startColorstr="+b+",endColorstr="+c+")"},toString:function(a){var b=!!a;a=a||this._format;var c=!1,d=this._a<1&&this._a>=0,e=!b&&d&&("hex"===a||"hex6"===a||"hex3"===a||"name"===a);return e?"name"===a&&0===this._a?this.toName():this.toRgbString():("rgb"===a&&(c=this.toRgbString()),"prgb"===a&&(c=this.toPercentageRgbString()),("hex"===a||"hex6"===a)&&(c=this.toHexString()),"hex3"===a&&(c=this.toHexString(!0)),"hex8"===a&&(c=this.toHex8String()),"name"===a&&(c=this.toName()),"hsl"===a&&(c=this.toHslString()),"hsv"===a&&(c=this.toHsvString()),c||this.toHexString())},_applyModification:function(a,b){var c=a.apply(null,[this].concat([].slice.call(b)));return this._r=c._r,this._g=c._g,this._b=c._b,this.setAlpha(c._a),this},lighten:function(){return this._applyModification(l,arguments)},brighten:function(){return this._applyModification(m,arguments)},darken:function(){return this._applyModification(n,arguments)},desaturate:function(){return this._applyModification(i,arguments)},saturate:function(){return this._applyModification(j,arguments)},greyscale:function(){return this._applyModification(k,arguments)},spin:function(){return this._applyModification(o,arguments)},_applyCombination:function(a,b){return a.apply(null,[this].concat([].slice.call(b)))},analogous:function(){return this._applyCombination(t,arguments)},complement:function(){return this._applyCombination(p,arguments)},monochromatic:function(){return this._applyCombination(u,arguments)},splitcomplement:function(){return this._applyCombination(s,arguments)},triad:function(){return this._applyCombination(q,arguments)},tetrad:function(){return this._applyCombination(r,arguments)}},P.fromRatio=function(a,b){if("object"==typeof a){var c={};for(var d in a)a.hasOwnProperty(d)&&("a"===d?c[d]=a[d]:c[d]=D(a[d]));a=c}return P(a,b)},P.equals=function(a,b){return a&&b?P(a).toRgbString()==P(b).toRgbString():!1},P.random=function(){return P.fromRatio({r:O(),g:O(),b:O()})},P.mix=function(a,b,c){c=0===c?0:c||50;var d,e=P(a).toRgb(),f=P(b).toRgb(),g=c/100,h=2*g-1,i=f.a-e.a;d=h*i==-1?h:(h+i)/(1+h*i),d=(d+1)/2;var j=1-d,k={r:f.r*d+e.r*j,g:f.g*d+e.g*j,b:f.b*d+e.b*j,a:f.a*g+e.a*(1-g)};return P(k)},P.readability=function(a,b){var c=P(a),d=P(b),e=c.toRgb(),f=d.toRgb(),g=c.getBrightness(),h=d.getBrightness(),i=Math.max(e.r,f.r)-Math.min(e.r,f.r)+Math.max(e.g,f.g)-Math.min(e.g,f.g)+Math.max(e.b,f.b)-Math.min(e.b,f.b);return{brightness:Math.abs(g-h),color:i}},P.isReadable=function(a,b){var c=P.readability(a,b);return c.brightness>125&&c.color>500},P.mostReadable=function(a,b){for(var c=null,d=0,e=!1,f=0;f<b.length;f++){var g=P.readability(a,b[f]),h=g.brightness>125&&g.color>500,i=3*(g.brightness/125)+g.color/500;(h&&!e||h&&e&&i>d||!h&&!e&&i>d)&&(e=h,d=i,c=P(b[f]))}return c};var Q=P.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},R=P.hexNames=v(Q),S=function(){var a="[-\\+]?\\d+%?",b="[-\\+]?\\d*\\.\\d+%?",c="(?:"+b+")|(?:"+a+")",d="[\\s|\\(]+("+c+")[,|\\s]+("+c+")[,|\\s]+("+c+")\\s*\\)?",e="[\\s|\\(]+("+c+")[,|\\s]+("+c+")[,|\\s]+("+c+")[,|\\s]+("+c+")\\s*\\)?";return{rgb:new RegExp("rgb"+d),rgba:new RegExp("rgba"+e),hsl:new RegExp("hsl"+d),hsla:new RegExp("hsla"+e),hsv:new RegExp("hsv"+d),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();"undefined"!=typeof module&&module.exports?module.exports=P:"function"==typeof define&&define.amd?define(function(){return P}):window.tinycolor=P}(),function(a){"use strict";a.fn.ColorPickerSliders=function(b){return this.each(function(){function c(){"undefined"==typeof b&&(b={}),fa=a.extend({color:"hsl(342, 52%, 70%)",size:"default",placement:"auto",trigger:"focus",preventtouchkeyboardonshow:!0,title:"",hsvpanel:!1,sliders:!0,grouping:!0,swatches:["FFFFFF","C0C0C0","808080","000000","FF0000","800000","FFFF00","808000","00FF00","008000","00FFFF","008080","0000FF","000080","FF00FF","800080"],customswatches:"colorpickkersliders",connectedinput:!1,flat:!1,updateinterval:30,previewontriggerelement:!0,previewcontrasttreshold:15,previewformat:"rgb",erroneousciecolormarkers:!0,invalidcolorsopacity:1,finercierangeedges:!0,titleswatchesadd:"Add color to swatches",titleswatchesremove:"Remove color from swatches",titleswatchesreset:"Reset to default swatches",order:{},labels:{},onchange:function(){}},b),b.hasOwnProperty("order")?fa.order=a.extend({opacity:!1,hsl:!1,rgb:!1,cie:!1,preview:!1},b.order):fa.order={opacity:0,hsl:1,rgb:2,cie:3,preview:4},b.hasOwnProperty("labels")||(b.labels={}),fa.labels=a.extend({hslhue:"HSL-Hue",hslsaturation:"HSL-Saturation",hsllightness:"HSL-Lightness",rgbred:"RGB-Red",rgbgreen:"RGB-Green",rgbblue:"RGB-Blue",cielightness:"CIE-Lightness",ciechroma:"CIE-Chroma",ciehue:"CIE-hue",opacity:"Opacity",preview:"Preview"},b.labels)}function d(){ka||(ka=!0,pa=a.fn.ColorPickerSliders.detectWhichGradientIsSupported(),"filter"===pa&&(pa=!1),!pa&&a.fn.ColorPickerSliders.svgSupported()&&(pa="svg"),c(),fa.order.hasOwnProperty("preview")&&fa.order.preview!==!1||pa||(fa.order.preview=10),p(),f(),g(),P(),Q(),fa.flat&&o(),q())}function e(){n(),E(),O(),r()}function f(){ma?(ya.tiny=tinycolor(la.val()),ya.tiny.isValid()||(ya.tiny=tinycolor(fa.color))):ya.tiny=tinycolor(fa.color),ya.hsla=ya.tiny.toHsl(),ya.rgba=ya.tiny.toRgb(),ya.hsv=ya.tiny.toHsv(),ya.cielch=a.fn.ColorPickerSliders.rgb2lch(ya.rgba)}function g(){fa.connectedinput&&(na=fa.connectedinput instanceof jQuery?fa.connectedinput:a(fa.connectedinput))}function h(b,c){var d=tinycolor(b);return d.isValid()?(ya.tiny=d,ya.hsla=d.toHsl(),ya.rgba=d.toRgb(),ya.hsv=d.toHsv(),ya.cielch=a.fn.ColorPickerSliders.rgb2lch(ya.rgba),fa.flat||qa?(ga.removeClass("cp-unconvertible-cie-color"),O(c)):(c||Q(),P()),!0):!1}function i(a){if(!fa.flat){if(qa)return la.popover("hide"),la.popover("show"),void r();k(a),qa=!0}}function j(){qa=!1,l()}function k(b){if(!(ha instanceof jQuery)){switch("undefined"==typeof b&&(b=!1),ha=a('<div class="cp-popover-container"></div>').appendTo("body"),ga=a('<div class="cp-container"></div>').appendTo(ha),ga.html(m()),fa.size){case"sm":ga.addClass("cp-container-sm");break;case"lg":ga.addClass("cp-container-lg")}e(),b||x(),la.popover({html:!0,animation:!1,trigger:"manual",title:fa.title,placement:fa.placement,container:ha,content:function(){return ga}}),la.popover("show")}}function l(){ha.remove(),ha=null,la.popover("destroy")}function m(){var a=[],b="";if(fa.sliders&&(fa.order.opacity!==!1&&(a[fa.order.opacity]='<div class="cp-slider cp-opacity cp-transparency"><span>'+fa.labels.opacity+'</span><div class="cp-marker"></div></div>'),fa.order.hsl!==!1&&(a[fa.order.hsl]='<div class="cp-slider cp-hslhue cp-transparency"><span>'+fa.labels.hslhue+'</span><div class="cp-marker"></div></div><div class="cp-slider cp-hslsaturation cp-transparency"><span>'+fa.labels.hslsaturation+'</span><div class="cp-marker"></div></div><div class="cp-slider cp-hsllightness cp-transparency"><span>'+fa.labels.hsllightness+'</span><div class="cp-marker"></div></div>'),fa.order.rgb!==!1&&(a[fa.order.rgb]='<div class="cp-slider cp-rgbred cp-transparency"><span>'+fa.labels.rgbred+'</span><div class="cp-marker"></div></div><div class="cp-slider cp-rgbgreen cp-transparency"><span>'+fa.labels.rgbgreen+'</span><div class="cp-marker"></div></div><div class="cp-slider cp-rgbblue cp-transparency"><span>'+fa.labels.rgbblue+'</span><div class="cp-marker"></div></div>'),fa.order.cie!==!1&&(a[fa.order.cie]='<div class="cp-slider cp-cielightness cp-transparency"><span>'+fa.labels.cielightness+'</span><div class="cp-marker"></div></div><div class="cp-slider cp-ciechroma cp-transparency"><span>'+fa.labels.ciechroma+'</span><div class="cp-marker"></div></div><div class="cp-slider cp-ciehue cp-transparency"><span>'+fa.labels.ciehue+'</span><div class="cp-marker"></div></div>'),fa.order.preview!==!1&&(a[fa.order.preview]='<div class="cp-preview cp-transparency"><input type="text" value="" readonly="readonly"></div>')),fa.grouping&&(b+=!!fa.hsvpanel+!!(fa.sliders&&a.length>0)+!!fa.swatches>1?'<ul class="cp-pills">':'<ul class="cp-pills hidden">',fa.hsvpanel&&(b+='<li><a href="#" class="cp-pill-hsvpanel">HSV panel</a></li>'),fa.sliders&&a.length>0&&(b+='<li><a href="#" class="cp-pill-sliders">Sliders</a></li>'),fa.swatches&&(b+='<li><a href="#" class="cp-pill-swatches">Swatches</a></li>'),b+="</ul>"),fa.hsvpanel&&(b+='<div class="cp-hsvpanel"><div class="cp-hsvpanel-sv"><span></span><div class="cp-marker-point"></div></div><div class="cp-hsvpanel-h"><span></span><div class="cp-hsvmarker-vertical"></div></div><div class="cp-hsvpanel-a cp-transparency"><span></span><div class="cp-hsvmarker-vertical"></div></div></div>'),fa.sliders){b+='<div class="cp-sliders">';for(var c=0;c<a.length;c++)"undefined"!=typeof a[c]&&(b+=a[c]);b+="</div>"}return fa.swatches&&(b+='<div class="cp-swatches clearfix"><button type="button" class="add btn btn-default" title="'+fa.titleswatchesadd+'"><span class="glyphicon glyphicon-floppy-save"></span></button><button type="button" class="remove btn btn-default" title="'+fa.titleswatchesremove+'"><span class="glyphicon glyphicon-trash"></span></button><button type="button" class="reset btn btn-default" title="'+fa.titleswatchesreset+'"><span class="glyphicon glyphicon-repeat"></span></button><ul></ul></div>'),b}function n(){ia={actualswatch:!1,swatchescontainer:a(".cp-swatches",ga),swatches:a(".cp-swatches ul",ga),swatches_add:a(".cp-swatches button.add",ga),swatches_remove:a(".cp-swatches button.remove",ga),swatches_reset:a(".cp-swatches button.reset",ga),all_sliders:a(".cp-sliders, .cp-preview input",ga),hsvpanel:{sv:a(".cp-hsvpanel-sv",ga),sv_marker:a(".cp-hsvpanel-sv .cp-marker-point",ga),h:a(".cp-hsvpanel-h",ga),h_marker:a(".cp-hsvpanel-h .cp-hsvmarker-vertical",ga),a:a(".cp-hsvpanel-a span",ga),a_marker:a(".cp-hsvpanel-a .cp-hsvmarker-vertical",ga)},sliders:{hue:a(".cp-hslhue span",ga),hue_marker:a(".cp-hslhue .cp-marker",ga),saturation:a(".cp-hslsaturation span",ga),saturation_marker:a(".cp-hslsaturation .cp-marker",ga),lightness:a(".cp-hsllightness span",ga),lightness_marker:a(".cp-hsllightness .cp-marker",ga),opacity:a(".cp-opacity span",ga),opacity_marker:a(".cp-opacity .cp-marker",ga),red:a(".cp-rgbred span",ga),red_marker:a(".cp-rgbred .cp-marker",ga),green:a(".cp-rgbgreen span",ga),green_marker:a(".cp-rgbgreen .cp-marker",ga),blue:a(".cp-rgbblue span",ga),blue_marker:a(".cp-rgbblue .cp-marker",ga),cielightness:a(".cp-cielightness span",ga),cielightness_marker:a(".cp-cielightness .cp-marker",ga),ciechroma:a(".cp-ciechroma span",ga),ciechroma_marker:a(".cp-ciechroma .cp-marker",ga),ciehue:a(".cp-ciehue span",ga),ciehue_marker:a(".cp-ciehue .cp-marker",ga),preview:a(".cp-preview input",ga)},all_pills:a(".cp-pills",ga),pills:{hsvpanel:a(".cp-pill-hsvpanel",ga),sliders:a(".cp-pill-sliders",ga),swatches:a(".cp-pill-swatches",ga)}},fa.customswatches||(ia.swatches_add.hide(),ia.swatches_remove.hide(),ia.swatches_reset.hide())}function o(){fa.flat&&(ma?ga=a('<div class="cp-container"></div>').insertAfter(la):(ga=a('<div class="cp-container"></div>'),la.append(ga)),ga.append(m()),e(),x())}function p(){fa.connectedinput instanceof jQuery?fa.connectedinput.add(la):fa.connectedinput===!1?fa.connectedinput=la:fa.connectedinput=a(fa.connectedinput).add(la)}function q(){la.on("colorpickersliders.updateColor",function(a,b){h(b)}),la.on("colorpickersliders.show",function(){i()}),la.on("colorpickersliders.hide",function(){j()}),fa.flat||"focus"!==fa.trigger||("undefined"==typeof la.attr("tabindex")&&la.attr("tabindex",-1),fa.preventtouchkeyboardonshow&&(a(la).prop("readonly",!0).addClass("cp-preventtouchkeyboardonshow"),a(la).on("click",function(b){qa&&(a(la).prop("readonly",!1),b.stopPropagation())})),ma||a(la).on("click",function(a){i(),a.stopPropagation()}),a(la).on("focus",function(a){i(),a.stopPropagation()}),a(la).on("blur",function(b){j(),fa.preventtouchkeyboardonshow&&a(la).prop("readonly",!0),b.stopPropagation()})),na&&na.on("keyup change",function(){var b=a(this);h(b.val(),!0)})}function r(){ga.on("contextmenu",function(a){return a.preventDefault(),!1}),a(document).on("colorpickersliders.changeswatches",function(){E()}),ia.swatches.on("touchstart mousedown click","li span",function(b){var c=a(this).css("background-color");h(c),b.preventDefault()}),ia.swatches_add.on("touchstart mousedown click",function(a){H(),a.preventDefault(),a.stopPropagation()}),ia.swatches_remove.on("touchstart mousedown click",function(a){I(),a.preventDefault(),a.stopPropagation()}),ia.swatches_reset.on("touchstart touchend mousedown click",function(a){("click"===a.type||"touchend"===a.type)&&J(),a.preventDefault(),a.stopImmediatePropagation()}),ia.sliders.hue.parent().on("touchstart mousedown",function(a){if(a.preventDefault(),!(a.which>1)){sa="hue";var b=L(sa,a);K("hsla","h",3.6*b),O()}}),ia.sliders.saturation.parent().on("touchstart mousedown",function(a){if(a.preventDefault(),!(a.which>1)){sa="saturation";var b=L(sa,a);K("hsla","s",b/100),O()}}),ia.sliders.lightness.parent().on("touchstart mousedown",function(a){if(a.preventDefault(),!(a.which>1)){sa="lightness";var b=L(sa,a);K("hsla","l",b/100),O()}}),ia.sliders.opacity.parent().on("touchstart mousedown",function(a){if(a.preventDefault(),!(a.which>1)){sa="opacity";var b=L(sa,a);K("hsla","a",b/100),O()}}),ia.sliders.red.parent().on("touchstart mousedown",function(a){if(a.preventDefault(),!(a.which>1)){sa="red";var b=L(sa,a);K("rgba","r",2.55*b),O()}}),ia.sliders.green.parent().on("touchstart mousedown",function(a){if(a.preventDefault(),!(a.which>1)){sa="green";var b=L(sa,a);K("rgba","g",2.55*b),O()}}),ia.sliders.blue.parent().on("touchstart mousedown",function(a){if(a.preventDefault(),!(a.which>1)){sa="blue";var b=L(sa,a);K("rgba","b",2.55*b),O()}}),ia.hsvpanel.sv.on("touchstart mousedown",function(a){if(a.preventDefault(),!(a.which>1)){sa="hsvsv";var b=M("sv",a);K("hsv","s",b.horizontal/100),K("hsv","v",(100-b.vertical)/100),O()}}),ia.hsvpanel.h.on("touchstart mousedown",function(a){if(a.preventDefault(),!(a.which>1)){sa="hsvh";var b=M("h",a);K("hsv","h",3.6*b.vertical),O()}}),ia.hsvpanel.a.on("touchstart mousedown",function(a){if(a.preventDefault(),!(a.which>1)){sa="hsva";var b=M("a",a);K("hsv","a",(100-b.vertical)/100),O()}}),ia.sliders.cielightness.parent().on("touchstart mousedown",function(a){if(a.preventDefault(),!(a.which>1)){sa="cielightness";var b=L(sa,a);K("cielch","l",ra/100*b),O()}}),ia.sliders.ciechroma.parent().on("touchstart mousedown",function(a){if(a.preventDefault(),!(a.which>1)){sa="ciechroma";var b=L(sa,a);K("cielch","c",za/100*b),O()}}),ia.sliders.ciehue.parent().on("touchstart mousedown",function(a){if(a.preventDefault(),!(a.which>1)){sa="ciehue";var b=L(sa,a);K("cielch","h",3.6*b),O()}}),ia.sliders.preview.on("click",function(){this.select()}),a(document).on("touchmove mousemove",function(a){sa&&((new Date).getTime()-xa>va&&!wa?C(sa,a):B(sa,a))}),a(document).on("touchend mouseup",function(a){a.which>1||sa&&(sa=!1,a.preventDefault())}),ia.pills.hsvpanel.on("click",function(a){a.preventDefault(),y()}),ia.pills.sliders.on("click",function(a){a.preventDefault(),z()}),ia.pills.swatches.on("click",function(a){a.preventDefault(),A()}),fa.flat||ha.on("touchstart mousedown",".popover",function(a){return a.preventDefault(),a.stopPropagation(),!1})}function s(a,b){try{localStorage.setItem("cp-userdata-"+a,JSON.stringify(b))}catch(c){}}function t(a){try{var b=JSON.parse(localStorage.getItem("cp-userdata-"+a));return b}catch(c){return null}}function u(){return""!==oa?oa:(0===ia.pills.hsvpanel.length&&(oa+="_hsvpanel_"),0===ia.pills.sliders.length&&(oa+="_sliders_"),0===ia.pills.swatches.length&&(oa+="_swatches_"),oa)}function v(){return t("config_activepill"+u())}function w(a){return s("config_activepill"+u(),a)}function x(){switch(v()){case"hsvpanel":y();break;case"sliders":z();break;case"swatches":A();break;default:if(ia.pills.hsvpanel.length){y();break}if(ia.pills.sliders.length){z();break}if(ia.pills.swatches.length){A();break}}}function y(){return 0===ia.pills.hsvpanel.length?!1:(a("a",ia.all_pills).removeClass("active"),ia.pills.hsvpanel.addClass("active"),ga.removeClass("sliders-active swatches-active").addClass("hsvpanel-active"),w("hsvpanel"),O(!0),i(!0),!0)}function z(){return 0===ia.pills.sliders.length?!1:(a("a",ia.all_pills).removeClass("active"),ia.pills.sliders.addClass("active"),ga.removeClass("hsvpanel-active swatches-active").addClass("sliders-active"),w("sliders"),O(!0),i(!0),!0)}function A(){return 0===ia.pills.swatches.length?!1:(a("a",ia.all_pills).removeClass("active"),ia.pills.swatches.addClass("active"),ga.removeClass("hsvpanel-active sliders-active").addClass("swatches-active"),w("swatches"),O(!0),i(!0),!0)}function B(a,b){clearTimeout(ua),ua=setTimeout(function(){C(a,b)},va)}function C(a,b){var c;if(wa)return void B(a,b);switch(wa=!0,xa=(new Date).getTime(),c="hsvsv"===a?M("sv",b):"hsvh"===a?M("h",b):"hsva"===a?M("a",b):L(a,b),a){case"hsvsv":K("hsv","s",c.horizontal/100),K("hsv","v",(100-c.vertical)/100);break;case"hsvh":K("hsv","h",3.6*c.vertical);break;case"hsva":K("hsv","a",(100-c.vertical)/100);break;case"hue":K("hsla","h",3.6*c);break;case"saturation":K("hsla","s",c/100);break;case"lightness":K("hsla","l",c/100);break;case"opacity":K("hsla","a",c/100);break;case"red":K("rgba","r",2.55*c);break;case"green":K("rgba","g",2.55*c);break;case"blue":K("rgba","b",2.55*c);break;case"cielightness":K("cielch","l",ra/100*c);break;case"ciechroma":K("cielch","c",za/100*c);break;case"ciehue":K("cielch","h",3.6*c)}O(),b.preventDefault(),wa=!1}function D(){ja=[];for(var a=0;a<fa.swatches.length;a++){var b=tinycolor(fa.swatches[a]);b.isValid()&&ja.push(b.toRgbString())}}function E(){if(fa.swatches){if(fa.customswatches){var b=!1;try{b=JSON.parse(localStorage.getItem("swatches-"+fa.customswatches))}catch(c){}b?ja=b:D()}else D();if(ja instanceof Array){ia.swatches.html("");for(var d=0;d<ja.length;d++){var e=tinycolor(ja[d]);if(e.isValid()){var f=a("<span></span>").css("background-color",e.toRgbString()),g=a('<div class="btn btn-default cp-swatch"></div>');g.append(f),ia.swatches.append(a("<li></li>").append(g))}}}F()}}function F(){var b=!1;a("span",ia.swatches).filter(function(){var c=a(this).css("background-color");if(c=tinycolor(c),c.alpha=Math.round(100*c.alpha)/100,c.toRgbString()===ya.tiny.toRgbString()){b=!0;var d=a(this).parent();d.is(ia.actualswatch)||(ia.actualswatch&&ia.actualswatch.removeClass("actual"),ia.actualswatch=d,d.addClass("actual"))}}),b||ia.actualswatch&&(ia.actualswatch.removeClass("actual"),ia.actualswatch=!1),ia.actualswatch?(ia.swatches_add.prop("disabled",!0),ia.swatches_remove.prop("disabled",!1)):(ia.swatches_add.prop("disabled",!1),ia.swatches_remove.prop("disabled",!0))}function G(){localStorage.setItem("swatches-"+fa.customswatches,JSON.stringify(ja))}function H(){ja.unshift(ya.tiny.toRgbString()),G(),a(document).trigger("colorpickersliders.changeswatches")}function I(){var b=ja.indexOf(ya.tiny.toRgbString());-1!==b&&(ja.splice(b,1),G(),a(document).trigger("colorpickersliders.changeswatches"))}function J(){confirm("Do you really want to reset the swatches? All customizations will be lost!")&&(D(),G(),a(document).trigger("colorpickersliders.changeswatches"))}function K(b,c,d){switch(b){case"hsv":ya.hsv[c]=d,ya.tiny=tinycolor({h:ya.hsv.h,s:ya.hsv.s,v:ya.hsv.v,a:ya.hsv.a}),ya.rgba=ya.tiny.toRgb(),ya.hsla=ya.tiny.toHsl(),ya.cielch=a.fn.ColorPickerSliders.rgb2lch(ya.rgba);break;case"hsla":ya.hsla[c]=d,ya.tiny=tinycolor({h:ya.hsla.h,s:ya.hsla.s,l:ya.hsla.l,a:ya.hsla.a}),ya.rgba=ya.tiny.toRgb(),ya.hsv=ya.tiny.toHsv(),ya.cielch=a.fn.ColorPickerSliders.rgb2lch(ya.rgba),ga.removeClass("cp-unconvertible-cie-color");break;case"rgba":ya.rgba[c]=d,ya.tiny=tinycolor({r:ya.rgba.r,g:ya.rgba.g,b:ya.rgba.b,a:ya.hsla.a}),ya.hsla=ya.tiny.toHsl(),ya.hsv=ya.tiny.toHsv(),ya.cielch=a.fn.ColorPickerSliders.rgb2lch(ya.rgba),ga.removeClass("cp-unconvertible-cie-color");break;case"cielch":ya.cielch[c]=d,ya.rgba=a.fn.ColorPickerSliders.lch2rgb(ya.cielch),ya.tiny=tinycolor(ya.rgba),ya.hsla=ya.tiny.toHsl(),ya.hsv=ya.tiny.toHsv(),fa.erroneousciecolormarkers&&(ya.rgba.isok?ga.removeClass("cp-unconvertible-cie-color"):ga.addClass("cp-unconvertible-cie-color"))}}function L(b,c){var d=a.fn.ColorPickerSliders.calculateEventPositionPercentage(c,ia.sliders[b]);return ia.sliders[b+"_marker"].data("position",d),d}function M(b,c){var d=a.fn.ColorPickerSliders.calculateEventPositionPercentage(c,ia.hsvpanel.sv,!0);return ia.hsvpanel[b+"_marker"].data("position",d),d}function N(a){Aa=setTimeout(function(){O(a)},fa.updateinterval)}function O(a){return clearTimeout(Aa),Date.now=Date.now||function(){return+new Date},Date.now()-ta<fa.updateinterval?void N(a):("undefined"==typeof a&&(a=!1),ta=Date.now(),fa.hsvpanel===!1||fa.grouping&&"hsvpanel"!==v()||(R(),S(),T()),!fa.sliders||fa.grouping&&"sliders"!==v()||(fa.order.opacity!==!1&&X(),fa.order.hsl!==!1&&(U(),V(),W()),fa.order.rgb!==!1&&(Y(),Z(),$()),fa.order.cie!==!1&&(aa(),ba(),ca()),fa.order.preview!==!1&&da()),a||Q(),(100-ya.cielch.l)*ya.cielch.a<fa.previewcontrasttreshold?(ia.all_sliders.css("color","#000"),ma&&fa.previewontriggerelement&&la.css("background",ya.tiny.toRgbString()).css("color","#000")):(ia.all_sliders.css("color","#fff"),ma&&fa.previewontriggerelement&&la.css("background",ya.tiny.toRgbString()).css("color","#fff")),!fa.swatches||fa.grouping&&"swatches"!==v()||F(),fa.onchange(ga,ya),void la.data("color",ya))}function P(){ma&&fa.previewontriggerelement&&((100-ya.cielch.l)*ya.cielch.a<fa.previewcontrasttreshold?la.css("background",ya.tiny.toRgbString()).css("color","#000"):la.css("background",ya.tiny.toRgbString()).css("color","#fff"))}function Q(){na&&na.each(function(b,c){var d=a(c),e=d.data("color-format")||fa.previewformat;switch(e){case"hex":ya.hsla.a<1?d.val(ya.tiny.toRgbString()):d.val(ya.tiny.toHexString());break;case"hsl":d.val(ya.tiny.toHslString());break;case"rgb":default:d.val(ya.tiny.toRgbString())}})}function R(){ia.hsvpanel.sv.css("background",tinycolor("hsv("+ya.hsv.h+",100%,100%)").toRgbString()),
ia.hsvpanel.sv_marker.css("left",100*ya.hsv.s+"%").css("top",100-100*ya.hsv.v+"%")}function S(){ia.hsvpanel.h_marker.css("top",ya.hsv.h/360*100+"%")}function T(){ea(ia.hsvpanel.a,a.fn.ColorPickerSliders.getScaledGradientStops(ya.hsla,"a",1,0,2),!0),ia.hsvpanel.a_marker.css("top",100-100*ya.hsv.a+"%")}function U(){ea(ia.sliders.hue,a.fn.ColorPickerSliders.getScaledGradientStops(ya.hsla,"h",0,360,7)),ia.sliders.hue_marker.css("left",ya.hsla.h/360*100+"%")}function V(){ea(ia.sliders.saturation,a.fn.ColorPickerSliders.getScaledGradientStops(ya.hsla,"s",0,1,2)),ia.sliders.saturation_marker.css("left",100*ya.hsla.s+"%")}function W(){ea(ia.sliders.lightness,a.fn.ColorPickerSliders.getScaledGradientStops(ya.hsla,"l",0,1,3)),ia.sliders.lightness_marker.css("left",100*ya.hsla.l+"%")}function X(){ea(ia.sliders.opacity,a.fn.ColorPickerSliders.getScaledGradientStops(ya.hsla,"a",0,1,2)),ia.sliders.opacity_marker.css("left",100*ya.hsla.a+"%")}function Y(){ea(ia.sliders.red,a.fn.ColorPickerSliders.getScaledGradientStops(ya.rgba,"r",0,255,2)),ia.sliders.red_marker.css("left",ya.rgba.r/255*100+"%")}function Z(){ea(ia.sliders.green,a.fn.ColorPickerSliders.getScaledGradientStops(ya.rgba,"g",0,255,2)),ia.sliders.green_marker.css("left",ya.rgba.g/255*100+"%")}function $(){ea(ia.sliders.blue,a.fn.ColorPickerSliders.getScaledGradientStops(ya.rgba,"b",0,255,2)),ia.sliders.blue_marker.css("left",ya.rgba.b/255*100+"%")}function _(b,c){if(1===fa.invalidcolorsopacity||!fa.finercierangeedges)return b;b.sort(function(a,b){return a.position-b.position});for(var d=[],e=1;e<b.length;e++)if(b[e].isok!==b[e-1].isok)for(var f=Math.round(b[e].position)-Math.round(b[e-1].position),g=a.fn.ColorPickerSliders.getScaledGradientStops(b[e].rawcolor,c,b[e-1].rawcolor[c],b[e].rawcolor[c],f,fa.invalidcolorsopacity,b[e-1].position,b[e].position),h=0;h<g.length;h++)if(g[h].isok!==b[e-1].isok){d.push(g[h]),h>0&&d.push(g[h-1]);break}return a.merge(d,b)}function aa(){var b=a.fn.ColorPickerSliders.getScaledGradientStops(ya.cielch,"l",0,100,10,fa.invalidcolorsopacity);b=_(b,"l"),ea(ia.sliders.cielightness,b),ia.sliders.cielightness_marker.css("left",ya.cielch.l/ra*100+"%")}function ba(){var b=a.fn.ColorPickerSliders.getScaledGradientStops(ya.cielch,"c",0,za,5,fa.invalidcolorsopacity);b=_(b,"c"),ea(ia.sliders.ciechroma,b),ia.sliders.ciechroma_marker.css("left",ya.cielch.c/za*100+"%")}function ca(){var b=a.fn.ColorPickerSliders.getScaledGradientStops(ya.cielch,"h",0,360,28,fa.invalidcolorsopacity);b=_(b,"h"),ea(ia.sliders.ciehue,b),ia.sliders.ciehue_marker.css("left",ya.cielch.h/360*100+"%")}function da(){ia.sliders.preview.css("background",a.fn.ColorPickerSliders.csscolor(ya.rgba));var b;switch(fa.previewformat){case"hex":b=ya.hsla.a<1?ya.tiny.toRgbString():ya.tiny.toHexString();break;case"hsl":b=ya.tiny.toHslString();break;case"rgb":default:b=ya.tiny.toRgbString()}ia.sliders.preview.val(b)}function ea(b,c,d){switch("undefined"==typeof d&&(d=!1),c.sort(function(a,b){return a.position-b.position}),pa){case"noprefix":a.fn.ColorPickerSliders.renderNoprefix(b,c,d);break;case"webkit":a.fn.ColorPickerSliders.renderWebkit(b,c,d);break;case"ms":a.fn.ColorPickerSliders.renderMs(b,c,d);break;case"svg":a.fn.ColorPickerSliders.renderSVG(b,c,d);break;case"oldwebkit":a.fn.ColorPickerSliders.renderOldwebkit(b,c,d)}}var fa,ga,ha,ia,ja,ka=!1,la=a(this),ma=la.is("input"),na=!1,oa="",pa=!1,qa=!1,ra=101,sa=!1,ta=0,ua=null,va=70,wa=!1,xa=0,ya={tiny:null,hsla:null,rgba:null,hsv:null,cielch:null},za=144;d();var Aa})},a.fn.ColorPickerSliders.getEventCoordinates=function(a){return"undefined"!=typeof a.pageX?{pageX:a.originalEvent.pageX,pageY:a.originalEvent.pageY}:"undefined"!=typeof a.originalEvent.touches?{pageX:a.originalEvent.touches[0].pageX,pageY:a.originalEvent.touches[0].pageY}:void 0},a.fn.ColorPickerSliders.calculateEventPositionPercentage=function(b,c,d){"undefined"==typeof d&&(d=!1);var e=a.fn.ColorPickerSliders.getEventCoordinates(b),f=c.width(),g=e.pageX-c.offset().left,h=g/f*100;if(0>h&&(h=0),h>100&&(h=100),d){var i=c.height(),j=e.pageY-c.offset().top,k=j/i*100;return 0>k&&(k=0),k>100&&(k=100),{horizontal:h,vertical:k}}return h},a.fn.ColorPickerSliders.getScaledGradientStops=function(b,c,d,e,f,g,h,i){"undefined"==typeof g&&(g=1),"undefined"==typeof h&&(h=0),"undefined"==typeof i&&(i=100);for(var j=[],k=e-d,l=!0,m=0;f>m;++m){var n,o=m/(f-1),p=a.fn.ColorPickerSliders.modifyColor(b,c,o*k+d);if(1>g){var q=a.fn.ColorPickerSliders.lch2rgb(p,g);l=q.isok,n=a.fn.ColorPickerSliders.csscolor(q,g)}else n=a.fn.ColorPickerSliders.csscolor(p,g);j[m]={color:n,position:o*(i-h)+h,isok:l,rawcolor:p}}return j},a.fn.ColorPickerSliders.getGradientStopsCSSString=function(a){for(var b="",c="",d="",e=0;e<a.length;e++){var f=a[e];b+=","+f.color+" "+f.position+"%",c+=",color-stop("+f.position+"%,"+f.color+")";var g=tinycolor(f.color);d+='<stop stop-color="'+g.toHexString()+'" stop-opacity="'+g.toRgb().a+'" offset="'+f.position/100+'"/>'}return{noprefix:b,oldwebkit:c,svg:d}},a.fn.ColorPickerSliders.renderNoprefix=function(b,c,d){"undefined"==typeof d&&(d=!1);var e,f=a.fn.ColorPickerSliders.getGradientStopsCSSString(c).noprefix;e=d?"linear-gradient(to bottom":"linear-gradient(to right",e+=f+")",b.css("background-image",e)},a.fn.ColorPickerSliders.renderWebkit=function(b,c,d){"undefined"==typeof d&&(d=!1);var e,f=a.fn.ColorPickerSliders.getGradientStopsCSSString(c).noprefix;e=d?"-webkit-linear-gradient(top":"-webkit-linear-gradient(left",e+=f+")",b.css("background-image",e)},a.fn.ColorPickerSliders.renderOldwebkit=function(b,c,d){"undefined"==typeof d&&(d=!1);var e,f=a.fn.ColorPickerSliders.getGradientStopsCSSString(c).oldwebkit;e=d?"-webkit-gradient(linear, 0% 0%, 0 100%":"-webkit-gradient(linear, 0% 0%, 100% 0%",e+=f+")",b.css("background-image",e)},a.fn.ColorPickerSliders.renderMs=function(b,c,d){"undefined"==typeof d&&(d=!1);var e,f=a.fn.ColorPickerSliders.getGradientStopsCSSString(c).noprefix;e=d?"-ms-linear-gradient(to bottom":"-ms-linear-gradient(to right",e+=f+")",b.css("background-image",e)},a.fn.ColorPickerSliders.renderSVG=function(b,c,d){"undefined"==typeof d&&(d=!1);var e="",f=a.fn.ColorPickerSliders.getGradientStopsCSSString(c).svg;e=d?'<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 1 1" preserveAspectRatio="none"><linearGradient id="vsgg" gradientUnits="userSpaceOnUse" x1="0" y1="0" x2="0" y2="100%">':'<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 1 1" preserveAspectRatio="none"><linearGradient id="vsgg" gradientUnits="userSpaceOnUse" x1="0" y1="0" x2="100%" y2="0">',e+=f,e+='</linearGradient><rect x="0" y="0" width="1" height="1" fill="url(#vsgg)" /></svg>',e="url(data:image/svg+xml;base64,"+a.fn.ColorPickerSliders.base64encode(e)+")",b.css("background-image",e)},a.fn.ColorPickerSliders.base64encode=function(a){var b,c,d,e,f,g,h,i,j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",k=0,l=0,m="",n=[];if(!a)return a;do b=a.charCodeAt(k++),c=a.charCodeAt(k++),d=a.charCodeAt(k++),i=b<<16|c<<8|d,e=i>>18&63,f=i>>12&63,g=i>>6&63,h=63&i,n[l++]=j.charAt(e)+j.charAt(f)+j.charAt(g)+j.charAt(h);while(k<a.length);m=n.join("");var o=a.length%3;return(o?m.slice(0,o-3):m)+"===".slice(o||3)},a.fn.ColorPickerSliders.isGoodRgb=function(a){var b=258,c=-1;return a.r>b||a.g>b||a.b>b||a.r<c||a.g<c||a.b<c?!1:(a.r=Math.min(255,a.r),a.g=Math.min(255,a.g),a.b=Math.min(255,a.b),a.r=Math.max(0,a.r),a.g=Math.max(0,a.g),a.b=Math.max(0,a.b),!0)},a.fn.ColorPickerSliders.rgb2lch=function(b){var c=a.fn.ColorPickerSliders.CIELab2CIELCH(a.fn.ColorPickerSliders.XYZ2CIELab(a.fn.ColorPickerSliders.rgb2XYZ(b)));return b.hasOwnProperty("a")&&(c.a=b.a),c},a.fn.ColorPickerSliders.lch2rgb=function(b,c){"undefined"==typeof c&&(c=1);var d=a.fn.ColorPickerSliders.XYZ2rgb(a.fn.ColorPickerSliders.CIELab2XYZ(a.fn.ColorPickerSliders.CIELCH2CIELab(b)));if(a.fn.ColorPickerSliders.isGoodRgb(d))return b.hasOwnProperty("a")&&(d.a=b.a),d.isok=!0,d;var e=a.extend({},b),f=e.c,g=-1,h=0;do++h,e.c=g+(f-g)/2,d=a.fn.ColorPickerSliders.XYZ2rgb(a.fn.ColorPickerSliders.CIELab2XYZ(a.fn.ColorPickerSliders.CIELCH2CIELab(e))),a.fn.ColorPickerSliders.isGoodRgb(d)?g=e.c:f=e.c;while(Math.abs(f-g)>.9&&100>h);return b.hasOwnProperty("a")&&(d.a=b.a),d.r=Math.max(0,d.r),d.g=Math.max(0,d.g),d.b=Math.max(0,d.b),d.r=Math.min(255,d.r),d.g=Math.min(255,d.g),d.b=Math.min(255,d.b),1>c&&(d.hasOwnProperty("a")?d.a=d.a*c:d.a=c),d.isok=!1,d},a.fn.ColorPickerSliders.modifyColor=function(b,c,d){var e=a.extend({},b);if(!b.hasOwnProperty(c))throw"Missing color property: "+c;return e[c]=d,e},a.fn.ColorPickerSliders.csscolor=function(b,c){"undefined"==typeof c&&(c=1);var d=!1,e=a.extend({},b);return e.hasOwnProperty("c")&&(e=a.fn.ColorPickerSliders.lch2rgb(e,c)),e.hasOwnProperty("h")&&(d="hsla("+e.h+","+100*e.s+"%,"+100*e.l+"%,"+e.a+")"),e.hasOwnProperty("r")&&(d=e.a<1?"rgba("+Math.round(e.r)+","+Math.round(e.g)+","+Math.round(e.b)+","+e.a+")":"rgb("+Math.round(e.r)+","+Math.round(e.g)+","+Math.round(e.b)+")"),d},a.fn.ColorPickerSliders.rgb2XYZ=function(a){var b={},c=a.r/255,d=a.g/255,e=a.b/255;return c>.04045?c=Math.pow((c+.055)/1.055,2.4):c/=12.92,d>.04045?d=Math.pow((d+.055)/1.055,2.4):d/=12.92,e>.04045?e=Math.pow((e+.055)/1.055,2.4):e/=12.92,c=100*c,d=100*d,e=100*e,b.x=.4124*c+.3576*d+.1805*e,b.y=.2126*c+.7152*d+.0722*e,b.z=.0193*c+.1192*d+.9505*e,b},a.fn.ColorPickerSliders.XYZ2CIELab=function(a){var b={},c=a.x/95.047,d=a.y/100,e=a.z/108.883;return c=c>.008856?Math.pow(c,.333333333):7.787*c+.137931034,d=d>.008856?Math.pow(d,.333333333):7.787*d+.137931034,e=e>.008856?Math.pow(e,.333333333):7.787*e+.137931034,b.l=116*d-16,b.a=500*(c-d),b.b=200*(d-e),b},a.fn.ColorPickerSliders.CIELab2CIELCH=function(a){var b={};return b.l=a.l,b.c=Math.sqrt(Math.pow(a.a,2)+Math.pow(a.b,2)),b.h=Math.atan2(a.b,a.a),b.h>0?b.h=b.h/Math.PI*180:b.h=360-Math.abs(b.h)/Math.PI*180,b},a.fn.ColorPickerSliders.CIELCH2CIELab=function(a){var b={};return b.l=a.l,b.a=Math.cos(.01745329251*a.h)*a.c,b.b=Math.sin(.01745329251*a.h)*a.c,b},a.fn.ColorPickerSliders.CIELab2XYZ=function(a){var b={};return b.y=(a.l+16)/116,b.x=a.a/500+b.y,b.z=b.y-a.b/200,Math.pow(b.y,3)>.008856?b.y=Math.pow(b.y,3):b.y=(b.y-.137931034)/7.787,Math.pow(b.x,3)>.008856?b.x=Math.pow(b.x,3):b.x=(b.x-.137931034)/7.787,Math.pow(b.z,3)>.008856?b.z=Math.pow(b.z,3):b.z=(b.z-.137931034)/7.787,b.x=95.047*b.x,b.y=100*b.y,b.z=108.883*b.z,b},a.fn.ColorPickerSliders.XYZ2rgb=function(a){var b={};return a.x=a.x/100,a.y=a.y/100,a.z=a.z/100,b.r=3.2406*a.x+-1.5372*a.y+a.z*-.4986,b.g=a.x*-.9689+1.8758*a.y+.0415*a.z,b.b=.0557*a.x+a.y*-.204+1.057*a.z,b.r>.0031308?b.r=1.055*Math.pow(b.r,.41666667)-.055:b.r=12.92*b.r,b.g>.0031308?b.g=1.055*Math.pow(b.g,.41666667)-.055:b.g=12.92*b.g,b.b>.0031308?b.b=1.055*Math.pow(b.b,.41666667)-.055:b.b=12.92*b.b,b.r=Math.round(255*b.r),b.g=Math.round(255*b.g),b.b=Math.round(255*b.b),b},a.fn.ColorPickerSliders.detectWhichGradientIsSupported=function(){var a=document.createElement("detectGradientSupport").style;try{if(a.backgroundImage="linear-gradient(to top left, #9f9, white)",-1!==a.backgroundImage.indexOf("gradient"))return"noprefix";if(a.backgroundImage="-webkit-linear-gradient(left top, #9f9, white)",-1!==a.backgroundImage.indexOf("gradient"))return"webkit";if(a.backgroundImage="-ms-linear-gradient(left top, #9f9, white)",-1!==a.backgroundImage.indexOf("gradient"))return"ms";if(a.backgroundImage="-webkit-gradient(linear, left top, right bottom, from(#9f9), to(white))",-1!==a.backgroundImage.indexOf("gradient"))return"oldwebkit"}catch(b){try{if(a.filter='progid:DXImageTransform.Microsoft.gradient(startColorstr="#ffffff",endColorstr="#000000",GradientType=0)',-1!==a.filter.indexOf("DXImageTransform"))return"filter"}catch(b){}}return!1},a.fn.ColorPickerSliders.svgSupported=function(){return!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect}}(jQuery);
Saatchi.Browse=function(a){"use strict";return{selectedColor:null,init:function(){this.Color.init(),this.Toggle.init(),this.Toggle.listener(),this.Update.init(),this.View.init(),this.Tips.init(),this.Sort.init(),this.AnimateDropdown.listener(),this.PrintLinks.init()},Url:{getAllUrl:function(){if("undefined"==typeof Saatchi.SITE_CONTEXT)throw new Error("No SITE_CONTEXT found!");return"limited"===Saatchi.SITE_CONTEXT?"/prints":"/all"}},Toggle:{active:!1,init:function(){var b=a(".filters-additional"),c='See All Filters <i class="fa fa-angle-down"></i>',d=Saatchi.Browse.Toggle.selectedCount();Saatchi.Browse.Toggle.active&&b.toggleClass("hidden"),d>0&&(c="Edit Filters ( "+d+' ) <i class="fa fa-angle-down"></i>'),b.hasClass("hidden")||(c='Close <i class="fa fa-angle-up"></i>',Saatchi.Browse.Toggle.active=!0),a("#showFilters").html(c)},listener:function(){a(document).on("click","#showFilters, #doneFilters",function(){var b=a(".filters-additional"),c='See All Filters <i class="fa fa-angle-down"></i>',d=Saatchi.Browse.Toggle.selectedCount();b.toggleClass("hidden"),Saatchi.Browse.Toggle.active=!1,d>0&&(c="Edit Filters ( "+d+' ) <i class="fa fa-angle-down"></i>'),b.hasClass("hidden")||(c='Close <i class="fa fa-angle-up"></i>',Saatchi.Browse.Toggle.active=!0),a("#showFilters").html(c)})},selectedCount:function(){var b=a(".filter-location").find('select option[value != ""]:selected'),c=a(".filter-size button.selected"),d=a(".filter-orientation button.selected");return b.length+c.length+d.length}},Sort:{init:function(){a(document).on("click","#listSort a",function(b){if(b.preventDefault(),!a(this).hasClass("selected")){a("#listSort").find("a").removeClass("selected"),a(this).addClass("selected"),""!==a('[name="query"]').val()?Saatchi.Cookie.create("search_sortBy",a(this).data("sort")):Saatchi.Cookie.create("category_sortBy",a(this).data("sort")),Saatchi.Browse.Update.xhr&&Saatchi.Browse.Update.xhr.abort(),a(".item-list li").css("opacity",.35);var c=location.pathname+location.search;c=Saatchi.Browse.Utils.removeURLParameter(c,"page"),Saatchi.Browse.Update.load(c)}})}},View:{init:function(){a(document).on("click",".sort-view a",function(b){b.preventDefault(),a(this).hasClass("selected")||(a(".sort-view a").removeClass("selected"),a(this).addClass("selected"),Saatchi.Cookie.create("gallery",a(this).data("view")),Saatchi.Browse.Update.xhr&&Saatchi.Browse.Update.xhr.abort(),a(".item-list li").css("opacity",.35),Saatchi.Browse.Update.load(location.pathname+location.search))})}},Tips:{init:function(){var b=a(".sa-tooltip");b.each(function(){a(this).qtip({content:{text:a(this).attr("title")},position:{viewport:a(window),my:"bottom center",at:"top center",target:a(this),adjust:{target:a(document)}},hide:{delay:0,event:"unfocus mouseleave click"},style:{classes:"ui-tooltip-dark ui-tooltip-shadow ui-tooltip-tips",tip:{height:5,width:10}}}).removeData("qtip")})}},Color:{init:function(){a("#hslflat").ColorPickerSliders({color:Saatchi.Browse.selectedColor,flat:!0,swatches:["rgb(255, 255, 255)","rgb(204, 204, 204)","rgb(102, 102, 102)","rgb(0, 0, 0)","rgb(153, 102, 0)","rgb(255, 153, 0)","rgb(255, 204, 153)","rgb(255, 255, 0)","rgb(204, 255, 0)","rgb(153, 204, 51)","rgb(0, 204, 0)","rgb(51, 255, 204)","rgb(0, 198, 255)","rgb(0, 126, 255)","rgb(102, 0, 255)","rgb(204, 0, 255)","rgb(255, 0, 153)","rgb(255, 0, 0)"],customswatches:!1,order:{hsl:1,preview:2},onchange:function(b,c){delete c.rgba.a;var d=c.rgba,e=[];a.each(d,function(a,b){e.push(b)}),a(".cp-marker").css("backgroundColor","rgb("+e.join(", ")+")")}});var b=a(".cp-sliders");a(".cp-swatches ul").prepend('<li><div class="cp-swatch with-text"><span class="all-colors">Reset Colors <i></i></span></div></li>'),a(".cp-preview input").attr("readonly",!1).attr("type","hidden"),a(".cp-pills, .cp-hslhue, .cp-hslsaturation, .cp-swatches button").remove(),a(".cp-container").addClass("row"),a(".cp-swatches").removeClass("clearfix").addClass("small-12 medium-8 large-9 columns").prependTo(".cp-container"),b.addClass("small-12 medium-4 large-3 columns"),Saatchi.Browse.selectedColor||(a(".cp-swatch").removeClass("actual"),a(".all-colors").parent().addClass("actual"),b.hide().css("pointerEvents","none")),a(".cp-swatch").removeClass("btn btn-default"),a(".cp-swatches ul li:eq(1) span").addClass("border"),a(".cp-hsllightness span").text("")},reset:function(){Saatchi.Browse.selectedColor=null,a(".cp-swatch").removeClass("actual"),a(".all-colors").parent().addClass("actual"),a(".cp-sliders").hide().css("pointerEvents","none"),a("#hslflat").trigger("colorpickersliders.updateColor","rgb(0,0,0)"),a(".cp-preview input").val("")}},Update:{xhr:!1,init:function(){a(document).on("change",".filter-options",function(){return"category"===a(this).attr("name")&&a("#selectMedium").select2("val",""),"international_region"===a(this).attr("name")&&(a("#selectLocationCountry").select2("val",""),a("#selectLocationCity").select2("val","")),"country"===a(this).attr("name")&&a("#selectLocationCity").select2("val",""),Saatchi.Browse.Update.filter(),!1}),a(document).on("click touchend",".cp-swatches span",function(){a(this).hasClass("all-colors")?Saatchi.Browse.Color.reset():(a(".cp-swatch").removeClass("actual"),a(this).parent().addClass("actual"),a(".cp-sliders").show().css("pointerEvents","")),a(".cp-preview input").trigger("change")}),a(document).on("mouseup touchend",".cp-marker",function(){a(".cp-preview input").trigger("change")}),a(document).on("change",".cp-preview input",function(){Saatchi.Browse.Update.filter()}),a(document).on("change","#showOnlySale",function(){a(this).is(":checked")?a("#forSaleType").removeClass("hidden"):"limited"!==Saatchi.SITE_CONTEXT&&(a("#forSaleType").addClass("hidden"),a('[name="forsale_type"]').select2("val","originals")),a("#printType").hide().find('[name="print_type"]:eq(0)').attr("checked",!0),Saatchi.Browse.Update.filter()}),"limited"!==Saatchi.SITE_CONTEXT&&a(document).on("change",'[name="forsale_type"]',function(){"prints"!==a('[name="forsale_type"]').val()?a("#printType").hide().find('[name="print_type"]:eq(0)').attr("checked",!0):a("#printType").show().find('[name="print_type"]:eq(0)').attr("checked",!0),Saatchi.Browse.Update.filter()}),a(document).on("click",'[name="print_type"]',function(){Saatchi.Browse.Update.filter()}),a(document).on("click",".filter-size button",function(){a(this).hasClass("selected")?a(this).removeClass("selected"):(a(".filter-size button").removeClass("selected"),a(this).addClass("selected")),Saatchi.Browse.Update.filter()}),a(document).on("click",".filter-orientation button",function(){a(this).hasClass("selected")?a(this).removeClass("selected"):(a(".filter-orientation button").removeClass("selected"),a(this).addClass("selected")),Saatchi.Browse.Update.filter()}),a(document).on("click","#resetFilters",function(){Saatchi.Browse.Color.reset(),Saatchi.Browse.Update.load(Saatchi.Browse.Url.getAllUrl())}),a(document).on("click",".pagination a",function(b){b.preventDefault(),Saatchi.Browse.Update.load(a(this).attr("href")),a("html, body").animate({scrollTop:0},300)}),a(window).bind("popstate",function(){Saatchi.Browse.Update.xhr&&Saatchi.Browse.Update.xhr.abort(),a(".item-list li").css("opacity",.35),Saatchi.Browse.Update.xhr=a.ajax({url:location.pathname+location.search,success:function(b){var c=a("<div/>").append(b),d=c.find(".browse-content").html(),e=c.find("title").text(),f=c.find('meta[name="description"]').attr("content");a(document).find("title").text(e),a(document).find('meta[name="description"]').attr("content",f),a(".browse-content").html(d),Saatchi.Browse.Update.js(),Saatchi.Browse.Update.xhr=!1}})})},updateCurrencyAndConvert:function(a){var b=a.split("-"),c=Number(b[0]),d=/\D/.test(b[1])?b[1]:Number(b[1]),e=1;window.INTERNATIONALIZATION_TEST&&(e=Saatchi.Cookie.read("currency_rate")||1);var f=Math.round(c/e),g="number"==typeof d?Math.round(d/e):d,h=f.toString()+"-"+g.toString();return h},filter:function(){var b=a(".filters-main .filter-options"),c=a(".filters-additional .filter-options"),d=a('[name="query"]').val(),e=a(".cp-preview input").val(),f=a(".filter-size button.selected"),g=a("#showOnlySale").not(":checked"),h=a('[name="print_type"]:checked').val(),i=a(".filter-orientation button.selected"),j="",k=[];a.each(b,function(){var b=a(this).attr("name"),c=a(this).val();""!==c&&("price"===b?k.push(b+"="+Saatchi.Browse.Update.updateCurrencyAndConvert(c)):("category"===b&&("Painting"===c||"Drawing"===c)&&(c+="s"),j+="/"+c.toLowerCase().replace(/[ _&\/]/g,"-")))});var l=Saatchi.Browse.Url.getAllUrl();if(1===j.match(/\//g).length&&j!==l&&(j+=l),""!==d&&k.push("query="+d),a.each(c,function(){var b=a(this).attr("name"),c=a(this).val();""!==c&&"forsale_type"!==b&&k.push(b+"="+c.toLowerCase().replace(" ","+"))}),"rgba(0, 0, 0, 0)"===e||a(".all-colors").parent().hasClass("actual")?Saatchi.Browse.Color.reset():(Saatchi.Browse.selectedColor=e,e=e.replace(/[^\d,]/g,"").split(",").join("-"),k.push("color="+e)),a.each(f,function(){var b="size",c=a(this).data().value;k.push(b+"="+c)}),a.each(i,function(){var b="orientation",c=a(this).data().value;k.push(b+"="+c)}),g.length)k.push("show=all");else if("limited"!==Saatchi.SITE_CONTEXT){var m=a('[name="forsale_type"]').val();"originals"!==m&&k.push("forsale_type="+m),"prints"===m&&""!==h&&k.push("print_type="+h)}k.length>0&&(j=j+"?"+k.join("&")),Saatchi.Browse.Update.load(j)},load:function(b){Saatchi.Browse.Update.xhr&&(Saatchi.Browse.Update.xhr.abort(),"limited"===Saatchi.SITE_CONTEXT&&(Saatchi.LimitedBrowseMobile.init(),Saatchi.LimitedBrowse.init())),a(".item-list li").css("opacity",.35),Saatchi.Browse.Update.xhr=a.ajax({url:b,success:function(c){var d=a("<div/>").append(c),e=d.find(".browse-content").html(),f=d.find("title").text(),g=d.find('meta[name="description"]').attr("content");a(document).find("title").text(f),a(document).find('meta[name="description"]').attr("content",g),a(".browse-content").html(e),Saatchi.Browse.Update.js(),Saatchi.Browse.Update.xhr=!1,Saatchi.Browse.Utils.pushToDataLayer(b)}}),b!=window.location&&window.history.pushState({path:b},"",b),"limited"===Saatchi.SITE_CONTEXT&&(Saatchi.LimitedBrowseMobile.init(),Saatchi.LimitedBrowse.init())},js:function(){Saatchi.Fullview.init(a("li.art-item")),Saatchi.Browse.Color.init(),Saatchi.Browse.Toggle.init(),Saatchi.Browse.Tips.init(),Saatchi.Collect.init(),"limited"===Saatchi.SITE_CONTEXT&&(Saatchi.LimitedBrowseMobile.init(),Saatchi.LimitedBrowse.init()),a().truncate&&a(".expandable").truncate({slicePoint:300,expandText:"Read More",userCollapseText:"Less"})}},AnimateDropdown:{listener:function(){a(".filter-options").on("select2-opening",function(b){a(".select2-results").css("max-height",0).animate({"max-height":200},300)})}},Utils:{removeURLParameter:function(a,b){var c=a.split("?");if(c.length>=2){for(var d=encodeURIComponent(b)+"=",e=c[1].split(/[&;]/g),f=e.length;f-->0;)-1!==e[f].lastIndexOf(d,0)&&e.splice(f,1);var g=c[0];return e.length>0&&(g+="?"),a=g+e.join("&")}return a},getUrlParam:function(a){var b=new RegExp("[?&]"+a+"=([^&#]*)").exec(window.location.href);return null!==b?b[1]:""},getFilterFromPath:function(a,b){var c,d=a.split("/");return c="limited"===Saatchi.SITE_CONTEXT?"limited":"all",d.length>=2&&(4===b&&d[b]&&d[b].split("?").length?c=d[d.length-1]:d[b]&&(c=d[b])),c},getParameterByName:function(a){var b="[\\?&]"+a+"=([^&#]*)",c=new RegExp(b),d=c.exec(window.location.search);return d?decodeURIComponent(d[1].replace(/\+/g," ")):null},pushToDataLayer:function(a){var b="1",c="",d=Saatchi.Browse.Utils.getFilterFromPath(a,2),e=Saatchi.Cookie.read("search_sortBy"),f=Saatchi.Cookie.read("category_sortBy"),g="all",h="";Saatchi.Browse.Utils.getUrlParam("page")&&(b=Saatchi.Browse.Utils.getUrlParam("page")),c="Agency"===Saatchi.Browse.Utils.getFilterFromPath(a,1)?Saatchi.Browse.Utils.getFilterFromPath(a,1):"art",d=Saatchi.Browse.Utils.getUrlParam("query")?"search":"all"!==d?"subcategory":"category",Saatchi.Browse.Utils.getUrlParam("price")&&(g=Saatchi.Browse.Utils.getUrlParam("price")),e?h=e:f&&(h=f),"limited"!==Saatchi.SITE_CONTEXT?dataLayer.push({event:"pageview",category:Saatchi.Browse.Utils.getFilterFromPath(a,1).split("?")[0],style:Saatchi.Browse.Utils.getFilterFromPath(a,2).split("?")[0],subject:Saatchi.Browse.Utils.getFilterFromPath(a,3).split("?")[0],medium:Saatchi.Browse.Utils.getFilterFromPath(a,4).split("?")[0],"page type":"browse","page subtype":d,"page subsubtype":c,pagination:b,"price range":g,sort:h}):dataLayer.push({"page type":"browse",category:Saatchi.Browse.Utils.getFilterFromPath(a,1).split("?")[0],style:Saatchi.Browse.Utils.getFilterFromPath(a,2).split("?")[1],subject:Saatchi.Browse.Utils.getFilterFromPath(a,3).split("?")[0],"price range":g,orientation:Saatchi.Browse.Utils.getParameterByName("orientation"),pagination:b,sort:h,size:Saatchi.Browse.Utils.getParameterByName("size")})}},PrintLinks:{init:function(){window.location.href.indexOf("/prints")>-1&&a('a[href*="/view"]').each(function(){var b=a(this).attr("href");a(this).attr("href",b+"?prints=1")})}}}}(jQuery);
Saatchi.Fullview=function(a){"use strict";return{pageUrl:window.location,dataView:Saatchi.Cookie.read("view_preference"),themeView:Saatchi.Cookie.read("theme_preference"),init:function(b){var c,d=document.querySelector(".item-list.masonry");d&&(d&&d.childNodes.length<1||(c&&b?d.masonry("appended",b,!0):imagesLoaded(d,function(){c=new Masonry(d,{itemSelector:"li",isAnimated:!0}),c.bindResize()}),a("body").hasClass("touch")&&(Saatchi.Cookie.erase("view_preference"),Saatchi.Cookie.create("view_preference","fullView"))))},SetView:{init:function(){dataLayer.push({event:"pageview","page type":"collection","page subsubtype":Saatchi.Fullview.dataView}),a(document).on("click",".view-option",function(b){b.preventDefault(),a(this).hasClass("active")||(a(".view-options button").removeClass("active"),a(this).addClass("active"),Saatchi.Fullview.dataView=a(this).attr("data-view"),Saatchi.Cookie.erase("view_preference"),Saatchi.Cookie.erase("theme_preference"),Saatchi.Cookie.create("view_preference",Saatchi.Fullview.dataView),a(".item-list li").css("opacity",.35),dataLayer.push({event:"pageview","page type":"collection","page subsubtype":Saatchi.Fullview.dataView}),location.reload())}),a(document).on("click",".btn-darktheme",function(b){return b.preventDefault(),a(this).hasClass("active")?(a("body").removeClass("darkview"),a(this).removeClass("active"),"limited"===Saatchi.SITE_CONTEXT&&a(".limited-browse-content, .limited-filters").css("background-color","#fff"),void Saatchi.Cookie.erase("theme_preference")):(a(this).addClass("active"),a("body").addClass("darkview"),"limited"===Saatchi.SITE_CONTEXT&&a(".limited-browse-content, .limited-filters").css("background-color","#000"),Saatchi.Fullview.themeView=a(this).attr("data-theme"),Saatchi.Cookie.erase("theme_preference"),void Saatchi.Cookie.create("theme_preference",Saatchi.Fullview.themeView))})}},FullScreen:{init:function(){function b(){alert("mozfullscreenerror")}function c(b){b?(a(".limited-view-options").css("padding-top","100px"),a(".limited-view-options").css("margin-right","10px"),a(".orbit-timer").css("margin-top","40px"),a(".orbit-timer").css("margin-right","120px")):(a(".limited-view-options").css("padding-top",""),a(".limited-view-options").css("margin-right",""),a(".orbit-timer").css("margin-top","0"),a(".orbit-timer").css("margin-right","0"))}function d(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement?(document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen(),c()):(document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen&&document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT),c(!0))}a(".btn-slideshow.active").on("click",function(){d()});var e="";document.getElementById("fullScreen")&&(e=document.getElementById("fullScreen")),a(".fullScreen")&&(e=a(".fullScreen")),e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen(),document.documentElement.addEventListener("mozfullscreenerror",b,!1),document.addEventListener("keydown",function(b){39==b.keyCode&&a(".orbit-next").click(),37==b.keyCode&&a(".orbit-prev").click(),27==b.keyCode&&c()},!1)}}}}(jQuery);
/* module does not exist: favorite */Saatchi.Subscribe=function(a){var b="input[name=account_type]",c="#so-subscribe-email",d="#so-sign-up-form",e="#so-subscribe-submit",f="#so-index-sign-up";return{container:null,isLoggedIn:!1,observeHomepageSubmit:function(){var g=a(c);a(d).submit(function(c){c.preventDefault(),a(e).val("Subscribing");var h=a(b+":checked",d).val();a.post("/wizard/subscribe",{email:g.val(),source:"frontpage",account_type:h},function(b){b.success?(Saatchi.GoogleTracking.trackPageview("/register/silhouette/"+h+"/signup"),Saatchi.GoogleTracking.trackEvent("signUp","guest-"+h,"frontpage",function(){0!=a(f).length?a(f).load("/wizard/subscribed"):(Saatchi.Dialog.success("Thank you for subscribing."),window.location="/"),Saatchi.Signup.isSignUp=!1})):(a(e).val("Subscribe"),Saatchi.Dialog.error(b.messages))})})},observeArtSubmit:function(){var f=a(c);a(d).submit(function(c){c.preventDefault(),a(e).val("Subscribing");var g=a(b+":checked",d).val();a.post("/wizard/subscribe",{email:f.val(),source:"art_detail",account_type:g},function(b){b.success?Saatchi.GoogleTracking.trackEvent("signUp","guest-"+g,"art_detail",function(){Saatchi.Dialog.success("Thank you for subscribing."),a(d).parent().html("Thank you for subscribing."),Saatchi.Signup.isSignUp=!1}):(a(e).val("Subscribe"),Saatchi.Dialog.error(b.messages))})})},observeShowdownSubmit:function(){var b=a(c,d);a(d).submit(function(c){c.preventDefault(),a(e).val("Subscribing"),a.post("/wizard/subscribe",{email:b.val(),source:"showdown"},function(b){b.success?Saatchi.GoogleTracking.trackEvent("signUp","guest","showdown",function(){a(f).load("/wizard/subscribed"),Saatchi.Signup.redirectUrl="!reload",Saatchi.Signup.isSignUp=!0,Saatchi.Signup._openDialog(),Saatchi.Signup.selectAccountType()}):(a(e).val("Subscribe"),Saatchi.Dialog.error(b.messages))})})},observeFooterSubmit:function(){var f=a(c,d);a(d).submit(function(c){c.preventDefault(),a(e).val("Subscribing");var g=a(b+":checked",d).val();a.post("/wizard/subscribe",{email:f.val(),source:"bottom",account_type:g},function(b){b.success?Saatchi.GoogleTracking.trackEvent("signUp","guest-"+g,"bottom",function(){a("#ft #so-index-sign-up").remove(),Saatchi.Signup.isSignUp=!1,Saatchi.Dialog.success("Thank you for subscribing.")}):(a(e).val("Subscribe"),Saatchi.Dialog.error(b.messages))})})},simpleFooterSubmit:function(b){var c={},d=b.serializeArray(),e=b.find('input[type="submit"]'),f=e.val(),g=a("#so-subscribe-email").val();e.val("Subscribing"),Saatchi.GoogleTracking.trackEvent("signUp","footer",function(){a.each(d,function(){c[this.name]?(c[this.name].push||(c[this.name]=[c[this.name]]),c[this.name].push(this.value||"")):c[this.name]=this.value||""}),c.source="footer",c.account_type="collector",a.ajax({url:"/newsletter/subscription/footersubscribe",data:c,success:function(b){b.success?Saatchi.GoogleTracking.trackEvent("signUp","footer",function(){a("#footerSubscribe").remove(),a("#footerSubscribeThanks").show(),Saatchi.Signup.isSignUp=!1,Saatchi.Dialog.success("Thank you for signing up."),dataLayer.push({"user email":g})}):(e.val(f),Saatchi.Dialog.error(b.messages))}})})},ebookSubmit:function(b){var c={},d=b.serializeArray(),e=b.find('input[type="submit"]'),f=e.val(),g=a("#email").val();e.val("Subscribing"),Saatchi.GoogleTracking.trackEvent("signUp","ebook-landing",function(){a.each(d,function(){c[this.name]?(c[this.name].push||(c[this.name]=[c[this.name]]),c[this.name].push(this.value||"")):c[this.name]=this.value||""}),c.source||(c.source="ebook-landing"),c.account_type||(c.account_type="collector"),a.ajax({url:"/newsletter/subscription/footersubscribe",data:c,success:function(b){b.success?Saatchi.GoogleTracking.trackEvent("signUp","ebook-landing",function(){a(".sa-hero-subtitle, #ebookForm, .repeated-form").remove(),a(".ebook-thank-you, .hero-thank-you").show(),Saatchi.Signup.isSignUp=!1,Saatchi.Dialog.success("Thank you for signing up."),dataLayer.push({"user email":g})}):(e.val(f),Saatchi.Dialog.error(b.messages))}})})},observeModalSubmit:function(){var c=a(".so-campaign-email form .fancy-email");a(".so-campaign-email form").submit(function(d){d.preventDefault(),a(".so-campaign-email .so-sign-up-submit").val("Subscribing");var e=a(b+":checked",".so-campaign-email form").val();a.post("/wizard/subscribe",{email:c.val(),source:"bottom",account_type:e},function(b){b.success?Saatchi.GoogleTracking.trackEvent("signUp","guest-"+e,"bottom",function(){a("#so-doc").qtip("destroy"),Saatchi.Signup.isSignUp=!1,Saatchi.Dialog.success("Thank you for subscribing."),window.location="/"}):(a(".so-campaign-email .so-sign-up-submit").val("Subscribe"),Saatchi.Dialog.error(b.messages))})})}}}(jQuery);
